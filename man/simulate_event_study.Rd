% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulation.R
\name{simulate_event_study}
\alias{simulate_event_study}
\title{Simulate Event Study for Power Analysis}
\usage{
simulate_event_study(
  n_events = 20,
  event_window = c(-5, 5),
  estimation_window_length = 120,
  abnormal_return = 0,
  return_model = MarketModel$new(),
  test_statistic = "CSectT",
  alpha = 0.05,
  n_simulations = 1000,
  dgp_params = list(),
  seed = NULL
)
}
\arguments{
\item{n_events}{Number of events (firms) per simulation. Default 20.}

\item{event_window}{Event window as \code{c(start, end)}. Default \code{c(-5, 5)}.}

\item{estimation_window_length}{Length of the estimation window. Default 120.}

\item{abnormal_return}{Injected abnormal return on the event day (day 0).
Set to 0 for size analysis, positive for power analysis. Default 0.}

\item{return_model}{An initialized return model object. Default \code{MarketModel$new()}.}

\item{test_statistic}{Name of the multi-event test statistic to evaluate.
Default \code{"CSectT"}.}

\item{alpha}{Significance level. Default 0.05.}

\item{n_simulations}{Number of Monte Carlo replications. Default 1000.}

\item{dgp_params}{List of DGP parameters: \code{alpha} (drift), \code{beta}
(market exposure), \code{sigma_firm} (idiosyncratic volatility),
\code{sigma_market} (market volatility).}

\item{seed}{Optional seed for reproducibility.}
}
\value{
An S3 object of class \code{es_simulation} with components:
  \describe{
    \item{power}{Rejection rate at the event day}
    \item{rejection_by_day}{Tibble of rejection rates for each event-window day}
    \item{test_stats}{Vector of test statistics at the event day from each sim}
    \item{params}{List of simulation parameters}
  }
}
\description{
Runs Monte Carlo simulations to estimate the statistical power (rejection
rate) of an event study design. Each simulation generates synthetic data
from a user-specified DGP, runs the full event study pipeline, and records
whether the null hypothesis is rejected.
}
